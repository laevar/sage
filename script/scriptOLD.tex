\documentclass[fontsize=12pt,paper=a4,twoside,bibtotoc,idxtotoc,
liststotoc,pagesize,BCOR1.2cm,DIV15,chapterprefix,pagesize=pdftex]{scrbook}

%\usepackage[utf8x]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{dsfont}
\usepackage{textcomp}
\usepackage{stmaryrd}
\usepackage{graphicx}
\usepackage{xcolor}

\title{Einführung in Sage}
\author{Dr.Jochen Schulz}
\date{10-10-11}

\input{../common_header}
\begin{document}
\maketitle
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Einleitung}
\section{Was ist Sage?}
%\subsection{Was ist Sage?}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Sage ist ein pythonbasiertes, objektorientiertes Open-source (GPL) Mathematik Software System, dass es seit dem 24. Februar 2005 gibt.
In Sage findet man eine Alternative zu den 4 M's: Magma, Maple, Mathematica, Matlab.\newline
Das (Haupt-)Interface ist der Browser, dennoch besitzt Sage Frontends für viele externe Software.\newline
Zu den Stärken von Sage zählt sicherlich, dass es viele andere CAS und Libraries unter einer einheitlichen Oberfl\"ache vereint 
(so z.B. Maxima, Pari, GAP, R, Magma, ...), sowie durch Python eine sehr mächtige Programmiersprache als Grundlage hat. Desweiteren 
ist der Source Code offen, es gibt ein umfangreiches Hilfesystem sowie viele freie Materialien im Internet.\newline
Wie alles, so hat auch Sage trotz seiner vielen Stärken auch Schwächen, so ist der Befehlsumfang nicht so mächtig, wie der von Maple,Mthematica 
oder Matlab; außerdem fehlt eine standalone Entwicklungsumgebung. Als Alternative zum Webinterface findet sich Cantor.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Vorab}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Sage incl. online Testversion und gratis Download sowie einigen anderen Features findet sich unter http://www.sagemath.org/.\newline
Hier ein paar grundlegende Tipps, Tricks und Dinge, die einfach beherzigt werden sollten:\newline
\begin{itemize}
 \item Mehrere Befehle in einer Zeile durch {\color{blue} \verb~;~} trennen. 
 \item Bei Eingaben, die über mehrere Zeilen gehen, kann ein
  Zeilenumbruch durch {\color{blue} \verb~<ENTER>~} erreicht werden.
 \item Das Auswerten eines Blocks erfolgt mit {\color{blue} \verb~<SHIFT>+<ENTER>~}.
 \item Ein neues Eingabefeld erhält man durch klicken auf den blauen, horizontalen Balken
 \item {\color{blue} \isage{_} } refenziert die letzte Ausgabe.
 \item Löschen aller eigenen Variablen und Zurücksetzen auf den Anfangsstatus: {\color{blue} \isage{reset()}}
%\item Anzeigen aller definierten Variablen: {\color{blue} anames(All)}
%\item Anzeigen aller selbst definierten Variablen: {\color{blue} anames(All,User)}
 \item Das Feld aktivieren von \emph{Typeset} lässt alle Ausgaben von \LaTeX{} rendern.
%\item profiler und debugger -> commandline
 \item Html- und/oder \LaTeX-Dokumentation:{\color{blue} \verb~<SHIFT>+<KLICK>~ }auf den blauen Balken
%\item Publish: Im Notebook kann durch klicken des \alert{Publish}-Reiters das Notebook für alle offen gelegt werden. 
%\item Unter dem Menupunkt \alert{File} kann man 
 \item {\color{blue} Autocompletion :} mit der {\color{blue} \verb~<TAB>~}-Taste erhält man alle möglichen Funktions- und/oder Variablen-Namen im gegebenen Kontext.\\
  Dies gilt insbesondere auch für Objektfunktionen (\isage{object.function()})
 \item {\color{blue} \isage{<command>?} :} gibt ausführliche Hilfe zu \isage{command} an.
 \item {\color{blue} \isage{help(<command>)} :} öffnet ein Hilfefenster zu \isage{command}.
 \item online Dokumentation:
  \begin{itemize}
   \item Sage: http://www.sagemath.org/doc/index.html
   \item Python: http://docs.python.org/
  \end{itemize}
\end{itemize}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Überblick}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Als Einstieg und kleine Motivation, wofür man Sage einsetzen kann, wollen wir erst einmal ein paar grundlegende Operationen 
vorstellen:
\begin{itemize}
 \item Deklarieren von Variablen mir \isage{var()}, z.B.{\verb~var('a')~} 
 \item Definieren von Variablen mit {\color{blue}'='}, z.B. {\verb~a=3~} 
 \item Definieren von Funktionen mit{\color{blue} '='}, z.B. {\verb~f(x) = x^2 - 6*x~}
 \item Grenzwertbestimmung: {\color{blue}   \verb~f.limit(x=1, dir='<plus|minus>')~}
 \item Bilden von Ableitungen {\color{blue} \verb~f.differentiate(x)~}
 \item Lösen von Gleichungen: {\color{blue} \verb~solve( f(x)==0, x)~}
 \item Berechnen numerischer Approximationen: {\color{blue} \verb~float(f(sqrt(3)+ 4))~}
 \item Plotten einer Funktion: {\color{blue} \verb~plot(sin,(0,4))~}
 \item symbolisch Integrieren: {\color{blue} \verb~integrate(f,x)~}
 \item numerisch Integrieren: {\color{blue} \verb~integrate(f,x,a,b)~}
 \item Faktorisieren: {\color{blue} \verb~expand(f)~}
 \item Sortieren: {\color{blue} \verb~f.collect(x)~}
 \item Partialbruchzerlegung: {\color{blue} \verb~f.partial_fraction()~}
 \item vollständiges Vereinfachen: {\color{blue} \verb~f.full_simplify()~}
 \item Vereinfachen mit radicals: {\color{blue} \verb~f.radical_simplify()~}
 \item Matrix eingeben: {\color{blue} \verb~matrix([ [z1s1,z1s2],[z2s1,z2s2] ])~}
 \item Vektor eingeben: {\color{blue} \verb~vector([a,b,c])~}
 \item LGS lösen: {\color{blue} \verb~A\b~}
 \item Matrixoperationen: {\color{blue} \verb~A+B,A-B,A*B~}
 \item Matrix invertieren: {\color{blue} \verb~A^(-1); A.inverse()~}
 \item Substitutieren: {\color{blue} \verb~f.subs(k=2)~}
\end{itemize}
Hiermit stehen uns nun einige Türen offen und wir wollen uns an ein paar Beispielen der Sagewelt nähern:\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Kurvendiskussion}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Wir wollen eine handelsübliche Kurvendiskussion führen. Dazu betrachten wir die durch die reelle Zahl $a$ parametrisierte 
Funktionenschar:
\[ 
f: x \quad \mapsto \quad \frac{2x^2-20x+42}{x-1}+a, \quad
a \in \mathbb{R} 
\]
Wie bekommen wir nun diese Aufgabe mittels Sage gelöst? Zuerst sollten wir diese Funktionenschar wohl Sage ``erklären'', 
um weiter mit ihr arbeiten zu können. Dies geschiet, indem wir zuerst die Variable $a$ und anschließend die Funktion selbst 
deklarieren:\newline
\begin{sagein}
var('a')
f(x) = (2*x^2-20*x +42)/(x-1)+a;f
\end{sagein}
\textbf{Bemerkung:} Die Multiplikationszeichen dürfen NICHT weggelassen werden.\newline
Wir erhalten als Antwort\newline
\begin{sage}
  x |--> a + 2*(x^2 - 10*x + 21)/(x - 1)
\end{sage}
\textbf{Bemerkung:} Es findet keine Ausgabe statt, wenn wir in unserer Eingabe ;f weglassen.\newline
Wir möchten nun herausfinden, ob unsere Funktion Polstellen besitzt; dazu benutzen wir den limit Befehl:\newline
\begin{sagein}
f.limit(x=1, dir='minus')
\end{sagein}
\begin{sage}
  x |--> -Infinity
\end{sage}
\begin{sagein}
f.limit(x=1, dir='plus') 
\end{sagein}
\begin{sage}
  x |--> +Infinity
\end{sage}
Wir sehen nun, dass unsere Funktion f an der Stelle x=1 einen Pol hat. Wir verfahren weiter mit der Suche nach Nullstellen 
und wenden dafür den solve Befehl an:\newline
\begin{sagein}
solve(f==0,x)
\end{sagein}
\begin{sage}
[x == -1/4*a - 1/4*sqrt(a^2 - 32*a + 64) + 5, x == -1/4*a + 1/4*sqrt(a^2 - 32*a + 64) + 5]
\end{sage}
Wir haben nun 2 Nullstellen gefunden und stellen uns sogleich die Frage nach der Ableitunge von f, die wir über den 
differentiate Befehl erhalten:\newline
\begin{sagein}
f.differentiate(x)
\end{sagein}
\begin{sage} 
x |--> 4*(x - 5)/(x - 1) - 2*(x^2 - 10*x + 21)/(x - 1)^2
\end{sage}
Da unsere Funktion offenbar eine Ableitung besitzt, interessiert uns, ob und, wenn ja, wo f Extrema besitzt sowie die Antwort 
auf die Frage, ob es sich um Minima oder MAxima handelt:\newline
\begin{sagein}
maxi = solve(f.differentiate(x)==0,x); maxi
\end{sagein}
\begin{sage}
[x == -2*sqrt(3) + 1, x == 2*sqrt(3) + 1]
\end{sage}
\begin{sagein}
float( ((f.diff(x)).diff(x))(maxi[0].rhs()) )
\end{sagein}
\begin{sage}
-1.1547005383792501
\end{sage}
\begin{sagein}
float( ((f.diff(x)).diff(x))(maxi[1].rhs()) )
\end{sagein}
\begin{sage}
1.1547005383792515
\end{sage}
Wir erkennen die Existenz zweier Extremstellen, von denen eines ein Maximum, das andere ein Minimum ist.\newline
\textbf{Bemerkung:} Als ``Speicherplatz'' der Nullstellen von f' besitzt maxi zwei Werte- diese werden mit maxi[0].rhs() 
bzw maxi[1].rhs() angesprochen.\newline
Ohne den float() Befehl sähe die Ausgabe im ersten Fall so aus:
\begin{sagein}
-1/18*((2*sqrt(3) - 1)^2 + 20*sqrt(3) + 11)*sqrt(3) + 2/3*sqrt(3) + 8/3
\end{sagein}
und wäre somit unbrauchbar, um direkt ein Maximum oder Minimum erkennen zu können.\newline
Zuletzt betrachten wir noch das Verhalten am Rande:\newline
\begin{sagein}
f.limit(x=oo); f.limit(x=-oo)
\end{sagein}
\begin{sage}
x |--> +Infinity
x |--> -Infinity
\end{sage}
\textbf{Bemerkung:} Wir erkennen, in Sage stellt sich $\infty$ dar via oo, $-\infty$ entspricht offenbar -oo.\newline
Viel interessanter jedoch ist die Tatsache, dass Sage mit jenen ``Werten'' direkt arbeiten zu können scheint.\newline
Zuletzt wollen wir uns mit der grafischen Darstellung einiger Repräsentanten von f auseinandersetzen. Hierzu wollen wir zuerst 3 
jener Repräsentanten deklarieren und diese anschließend mit dem plot Befehl visualisieren:\newline
\begin{sagein}
 f0 = f(x, a=0)
 f1 = f(x, a=-20)
 f2 = f(x, a=20);f0,f1,f2
\end{sagein}
\begin{sage}
(2*(x^2 - 10*x + 21)/(x - 1), 2*(x^2 - 10*x + 21)/(x - 1) - 20, 2*(x^2 - 10*x + 21)/(x - 1) + 20)
\end{sage}
\begin{sagein}
p = plot(f0,detect_poles='show',xmin=0, xmax=10,color='red')
p += plot(f1,detect_poles='show',xmin=0, xmax=10,color='green')
p += plot(f2,detect_poles='show',xmin=0, xmax=10,color='blue'); p.show(ymin=-80, ymax=80)
\end{sagein}
Wir erhalten als Grafikausgabe:
\begin{center}
\includegraphics[height=4.5cm]{graphen}
\end{center}\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Symbolisches Rechnen}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Wir wollen uns nun ein wenig mit symbolischem Rechnen vertraut machen; dazu zählt das numerische Lösen von Integralen, 
sicherlich aber auch die Vereinfachung oder die Faktorisierung eines Terms. Wir betrachten einige Beispiele:\newline
Wir möchten gerne das Integral $\int_0^\infty x^4 e^{-x} dx$ numerisch berechnen, dazu benötigen wir lediglich
\begin{sagein}
integrate(x^4*exp(-x),x,0,oo)
\end{sagein}
und erhalten als Ausgabe 
\begin{sage}
  24
\end{sage}.
Wollen wir eine Stammfunktion von $\frac{1+\sin (x)}{1+\cos(x)}$ berechnen, so genügt uns die Deklaration zweier Funktion f
und g wie folgt:
\begin{sagein}
f(x) = (1+sin(x))/(1+cos(x))
g = f.integrate(x);g
\end{sagein}
\begin{sage}
x |--> sin(x)/(cos(x) + 1) - log(cos(x) + 1)
\end{sage}
Die Funktion g sieht eher unschön aus, wir möchten sie daher vereinfachen und benutzen dafür
\begin{sagein}
g.full_simplify()
\end{sagein}
\begin{sage}
x |--> -((cos(x) + 1)*log(cos(x) + 1) - sin(x))/(cos(x) + 1)
\end{sage}
Die Verschönerung hat hier nur bedingt geklappt, aber der Versuch war es wert und oft erhält man wirklich ein schöneres 
Ergebnis als zuvor. Ein wenig effektiver funktioniert es mit ($\frac{e^x -1}{e^{(1/2)x}+1}$)
\begin{sagein}
g = (exp(x)-1)/(exp(x/2)+1)
g.simplify_radical()
\end{sagein}
\begin{sage}
 e^(1/2*x) - 1
\end{sage}
Es gibt noch andere Möglichkeiten, Termen ein schöneres Aussehen zu geben. Betrachten wir den Term
\begin{sage}
x^4 - 10*x^3 + 35*x^2 - 50*x + 24
\end{sage}
und fragen uns: Können wir ihn Faktorisieren? Eine Antwort darauf liefert 
\begin{sagein}
factor(x^4 - 10*x^3 + 35*x^2 - 50*x + 24)
\end{sagein}
\begin{sage}
(x - 4)*(x - 3)*(x - 2)*(x - 1)
\end{sage}
Als kleine Probe können wir die Faktorisierung rückgängig machen:
\begin{sagein}
expand(_)
\end{sagein}
\begin{sage}
x^4 - 10*x^3 + 35*x^2 - 50*x + 24
\end{sage}
\textbf{Bemerkung:} Wir erinnern uns, dass \_ eine Referenz auf die letzte Ausgabe ist.\newline
Wir können Terme Terme auch bzgl. einer Variablen sortieren lassen:\newline
\begin{sagein}
var('b,a')
g = x^2+2*x+b*x^2+sin(x)+a*x
g.collect(x)
\end{sagein}
\begin{sage}
(b + 1)*x^2 + (a + 2)*x + sin(x)
\end{sage}
Zuletzt steht uns hier noch die Partialbruchzerlegung zur Verfügung:\newline
\begin{sagein}
g = x^ 2/( x^ 2- 1)
g.partial_fraction()
\end{sagein}
\begin{sage}
1/2/(x - 1) - 1/2/(x + 1) + 1
\end{sage}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Analytische Geometrie und Lineare Algebra}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Wir wollen uns ein wenig mit analytischer Geometrie und linearer Algebra beschäftigen und zu Anfang mal den Schnittpunkt einer Ebene mit einer Geraden 
berechnen. Dazu sei die Ebene E gegeben durch
\[ E: \vec{x}= 
\left ( \begin{array}{c}  2 \\ 1 \\ -1 \end{array} \right) +l 
\left ( \begin{array}{c}  1 \\ -1 \\ -1 \end{array} \right) +m
\left ( \begin{array}{c}  -3 \\ 1 \\ 4 \end{array} \right), \quad l,m
\in \mathbb{R}
\]
und die Gerade g
\[
g: \vec{x}=
\left ( \begin{array}{c}  3 \\ 0 \\ 1 \end{array} \right) +k
\left ( \begin{array}{c}  4 \\ -1 \\ 2 \end{array} \right), \quad k \in \mathbb{R}
\]
Gleichsetzen ergibt: 
\[ 
\left ( \begin{array}{c}  2 \\ 1 \\ -1 \end{array} \right) +l 
\left ( \begin{array}{c}  1 \\ -1 \\ -1 \end{array} \right) +m
\left ( \begin{array}{c}  -3 \\ 1 \\ 4 \end{array} \right) = \left ( \begin{array}{c}  3 \\ 0 \\ 1 \end{array} \right) +k
\left ( \begin{array}{c}  4 \\ -1 \\ 2 \end{array} \right)
\] oder {
\[ 
\underbrace{\left(   
\begin{array} {ccc} 
1 & -3 & -4\\
-1 & 1 & 1 \\
-1 & 4 & -2  
\end{array} \right)}_{\displaystyle =:A} 
\underbrace{\left ( \begin{array}{c}  l \\ m \\ k \end{array}
  \right)}_{\displaystyle =:L} = \underbrace{\left ( \begin{array}{c}  1 \\ -1 \\ 2
  \end{array} \right)}_{\displaystyle =:b}
\] }
oder $A L=b$.
Wir wollen nun lineare Gleichungssysteme (wie dieses) wie gewöhnlich durch MAtrizen beschreiben und via Sage lösen. Dazu benötigen wir ein paar Grundlagen:
\begin{itemize}
\item Definieren der Matrix $A$
\begin{sagein}
A = matrix([[1,-3,-4],[-1,1,1],[-1,4,-2]]); A
\end{sagein}
\begin{sage}
[ 1 -3 -4]
[-1  1  1]
[-1  4 -2]
\end{sage}
\item Definieren des Vektors $b$
\begin{sagein}
b = vector([1,-1,2])
\end{sagein}
\item Lösen von  $A \ L=b$
\begin{sagein}
A.solve_right(b)
\end{sagein}
oder 
\begin{sagein}
A\b
\end{sagein}
ergibt
\begin{sage}
(6/5, 3/5, -2/5)
\end{sage}
\item Einsetzen in die Geradengleichung
\begin{sagein}
x_s = matrix([g1,g2,g3]).subs(k=L[2]); x_s
\end{sagein}
\begin{sage}
[7/5 2/5 1/5]
\end{sage}
\end{itemize}
So haben wir nun recht aufwandsarm den Schnittpunkt der beiden Objekte E und g erhalten. Wir geben noch einen kurzen Ausblick auf weitere 
Matrizenoperationen:\newline
\begin{sagein}
B = matrix([[1,0,0],[0,1,1],[1,1,1]])
A*B; A-B; A+B
\end{sagein}
\begin{sage}
[-3 -7 -7]  [ 0 -3 -4] [ 2 -3 -4]
[ 0  2  2]  [-1  0  0] [-1  2  2]
[-3  2  2]  [-2  3 -3] [ 0  5 -1]
\end{sage}
Berechnen der Inversen (mit Probe)
\begin{sagein}
$A^(-1)$, A*A^(-1)
\end{sagein}
\begin{sage}
[  -2/5 -22/15   1/15]
[  -1/5   -2/5    1/5]
[  -1/5  -1/15  -2/15]

[1 0 0]
[0 1 0]
[0 0 1]
\end{sage}
Wir wollen uns das Ganze mal visualisieren, hierzu bietet uns Sage den 3D plot:
\begin{sagein}
var('l,m'); E1 = 2+l-3*m; E2 = 1-l+m; E3 =-1-l+4*m
p = parametric_plot3d([E1,E2,E3],(l,-2,2),(m,-2,2), color='green', opacity=0.8)
var('k'); g1 = 3+4*k; g2 = -k; g3 = 1+2*k
p += parametric_plot3d( (g1,g2,g3), (k, -3, 3),thickness='3' ) 
p.show()
\end{sagein}
\begin{center}
\includegraphics[width=0.7\textwidth]{ebene2}
\end{center}
\textbf{Bemerkung:} In Sage lässt sich der 3D plot drehen.
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Programmieren}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{itemize}
 \item Wir möchten eine einzeilige Funktion definieren. Dies geschieht via
  \begin{sagein}
  def <name>(<Argumente>) : return <Rueckgabe>
  \end{sagein}
  Beispiel: 
  \begin{sagein}
  def fd(ex) : return diff(ex)
  fd(x^2)
  \end{sagein}
  \begin{sage}
  2*x
  \end{sage}
 \item Wir können Objekte in Listen und Tupeln zusammenfassen:\newline
  Eine \emph{Liste} ist in Sage (und Python) mit \isage{[..,..]} gekennzeichnet
  \begin{sagein}
  liste = [21,22,24,23]
  liste.sort(); liste 
  \end{sagein}
  \begin{sage}
  [21, 22, 23, 24]
  \end{sage}
  Ein \emph{Tuple} ist in Sage (und Python) mit \isage{(..,..)} gekennzeichnet 
  \begin{sagein}
  tuple = (liste[0], liste[2])
  tuple, tuple[0]
  \end{sagein}
  \begin{sage}
  ((21, 24), 21) 
  \end{sage}
  Liste von ganzen Zahlen von \isage{a} bis \isage{b}
  \begin{sagein}
  [a..b] ; range(a,b+1)
  \end{sagein}
 \item Es gibt einzeilige (bedingte) Schleifen:
  \begin{sagein}
  [<expr(var)> for <var> in <range|liste>] 
  [<expr(var)> for <var> in <range|liste> if <expr>] 
  \end{sagein}
  Beispiel:
  \begin{sagein}
  [m^2 for m in [1..5] ]
  \end{sagein}
  \begin{sage}
  [1, 4, 9, 16, 25]
  \end{sage}
  Beispiel mit Abfrage:
  \begin{sagein}
  [m^2 for m in [1..5] if m%2==0]
  \end{sagein}
  \begin{sage}
  [4, 16]
  \end{sage}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Zahlentheorie}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Wir sind nun in der Lage, etwas kompliziertere Aufgabenstellungen zu bearbeiten:\newline
\begin{enumerate}
\item Die Fermatschen Primzahlen sind gegeben durch $F_n=2^{2^n} +1$. Wir wollen die kleinste dieser Zahlen finden, die keine Primzahl ist. Dazu 
schreiben wir uns ein kleines Programm:
\begin{sagein}
def F(n): return 2^(2^n)+1
[[F(m),is_prime(F(m))] for m in range(1,6)]
\end{sagein}
\begin{sage}
[[5, True], [17, True], [257, True], [65537, True], [4294967297, False]]
\end{sage}
Uns interssieren nun noch die Teiler von $F_5$
\begin{sagein}
divisors(int(F(5)))
\end{sagein}
\begin{sage}
[1, 641, 6700417, 4294967297]
\end{sage}
\item Wir möchten eine Liste der Primzahlen bis 100:
\begin{sagein}
menge = range(1,101)
[m for m in menge if is_prime(m)]
oder filter(is_prime,menge)
\end{sagein}
\begin{sage}
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]
\end{sage}
\item Die Mersenne Primzahlen sind gegeben durch $2^p-1$, dabei $p$ Primzahl. Wir wollen die Mersenne Primzahlen im Bereich $\leq200$ bestimmen:
\begin{sagein}
menge = range(1,201)
primes = [m for m in menge if is_prime(m)]
[2^m-1 for m in primes if is_prime(2^m-1)]
\end{sagein}
\begin{sage}
[3, 7, 31, 127, 8191, 131071, 524287, 2147483647, 2305843009213693951,
618970019642690137449562111, 162259276829213363391578010288127,
170141183460469231731687303715884105727]
\end{sage}
\item Wir wollen für die Zahlen $\leq1000$ bestimmen, wieviele Zahlen 1,2,3,... Teiler haben:
\begin{sagein}
menge = range(1,1001)
liste = [number_of_divisors(int(m)) for m in menge]
[(i,len([m for m in liste if m==i]))for i in range(1,51)]
\end{sagein}

\begin{sage}
[(1, 1), (2, 168), (3, 11), (4, 292), (5, 3), (6, 110), (7, 2), (8,
180), (9, 8), (10, 22), (11, 0), (12, 97), (13, 0), (14, 5), (15, 4),
...
\end{sage}
\end{enumerate}
Bis hierher haben wir einen kleinen Rundumblick genommen, einige sehr elementare Grundlagen kennengelernt und sind schon recht vertraut mit 
Sage. Vieles von dem, was wir bisher gesehen haben, wird uns wieder begegnen, wenn wir uns weiter mit Sage befassen.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Grundlagen}
\section{Interna}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Um Sage richtig verstehen zu können, ist es wichtig, das ``Innenleben'' zu kennen- hierzu wollen wir uns anschauen, welche Datentypen Sage 
kennt und wie es mit ihnen umgeht. Dazu stellen wir uns unter Anderem folgende Fragen:\newline
Betrachte:
\begin{sagein}
f = x^2-3*x-18
\end{sagein}
\begin{itemize}
\item Wie geht Sage mit der Unbekannten $x$ um?
\item Welchen Datentyp hat $f$?
\item Was kann ich mit $f$ machen?
\end{itemize}
\begin{enumerate}
  \item \textbf{Bezeichner:}
    \begin{itemize}
    \item \emph{Bezeichner} sind Namen, wie z.B. $x$ oder $f$. Sie können
    im mathematischen Kontext sowohl Variablen als auch Unbestimmte repräsentieren.
    \item Bezeichner sind aus Buchstaben, Ziffern und
    Unterstrich \_ zusammengesetzt.
    \item Sage unterscheidet zwischen Groß- und Kleinschreibung.
    \item Bezeichner dürfen nicht mit einer Ziffer beginnen
    \begin{itemize}
    \item zulässige Bezeichner:\isage{x}, \isage{f}, \isage{x23}, \isage{_x_1}
    \item unzulässige Bezeichner:\isage{12x}, \isage{p~}, \isage{x>y}, \isage{Das System}
    \end{itemize}
  \end{itemize}
  \item\textbf{Wert eines Bezeichners:}
    \begin{itemize}
    \item Der \emph{Wert} eines Bezeichners  ist ein \emph{Objekt} eines bestimmten
    \emph{Datentyps}.
    \item Ein \emph{Datentyp} ist durch seine Eigenschaften gegeben. \\
    \textbf{Beispiel}: Natürliche Zahlen, rationale Zahlen, Bezeichner, Zeichenketten, \ldots  
    \item Ein \emph{Objekt} ist eine Instanz (Einheit) eines Datentyps.
    \end{itemize}
  \item \textbf{Zuweisungsoperator = :}
    \begin{itemize}
    \item {\color{blue} \isage{bez=wert}}: Zuweisung des Wertes \isage{wert} zu dem Bezeichner \isage{bez}.
    \item {\color{blue} \isage{func(arg)=expr(arg)}}: Definition der Funktion \isage{func} mit dem Argument \isage{arg} und Zuweisung des Ausdrucks \isage{expr} zu (abhängig von \isage{arg})
    %\item Rückgabeparameter ist die rechte Seite (Eine Ausgabe erfolgt jedoch normalerweise nicht)
    \item \textbf{Warnung:} Wir unterscheiden stets zwischen dem Zuweisungsoperator {\color{blue} $=$} und
    dem logischen Operator {\color{blue} $==$}.   
    \item {\color{blue} \isage{reset('bezeichner')}}: Löschen von Zuweisungen/Variablen.\newline
    \item\textbf{Beispiele:}
      \begin{sagein}
      N=6; N
      \end{sagein}
      \begin{sage}
	6
      \end{sage}
      \begin{sagein}
      x,y = var('x,y'); f = x+2*x*x-y; g(x) = x^2; f,g
      \end{sagein}
      \begin{sage}
      (2*x^2 + x - y, x |--> x^2)
      \end{sage}
      \begin{sagein}
      x=pi;y = cos(x); x,y
      \end{sagein}
      \begin{sage}
	(pi, -1)
      \end{sage}
  \item \textbf{Auswertung:}
    \begin{itemize}
    \item Der \emph{Bezeichner} ist der Name einer Unbekannten.
    \item Die \emph{Auswertung} eines Bezeichners erfolgt ohne die Benutzung von bekannten Zuweisungen.
    \item Der \emph{Wert} bezeichnet die Auswertung zum Zeitpunkt der Zuweisung.
    \item \textbf{Beispiele}
    \begin{sagein}
    var('a') ; f(x) = x*x-3*x-a
    \end{sagein}
    \begin{sage}
    x |--> x^2 - a - 3*x
    \end{sage}
    \begin{sagein}
    f(a=2)
    \end{sagein}
    \begin{sage}
    x^2 - 3*x - 2 
    \end{sage}
    \begin{sagein}
    f(1)
    \end{sagein}
    \begin{sage}
      -a - 2
    \end{sage}
    \begin{sagein}
    f(1,a=2)
    \end{sagein}
    \begin{sage}
      -4
    \end{sage}
    \end{itemize}
  \end{itemize}
  \item\textbf{Datentypen:}
    \begin{center}
      \begin{tabular}{|lll|}
      \hline
      Typ & Bedeutung & Beispiel\\
      \hline
      \isage{integer} & ganze Zahlen & \isage{-3,0,100}\\
      \isage{rational} & rationale Zahlen & \isage{7/11}\\
      \isage{float} & Gleitpunktzahl & \isage{0.123}\\
      \isage{complex} & komplexe Zahlen & \isage{complex(1,3)}\\
      \isage{expression} & symbolische Ausdrücke & \isage{x+y} \\
      \isage{bool} & logische Werte: true/false& \isage{bool(1<2)} \\
      \hline
      \end{tabular}
    \end{center}
    \textbf{Beispiele:}\newline
    \begin{sagein}
    type(5)
    \end{sagein}
    \begin{sage}
      <type 'sage.rings.integer.Integer'>
    \end{sage}
    \begin{sagein}
    f = x^2-3*x-18; type(f)
    \end{sagein}
    \begin{sage}
      <type 'sage.symbolic.expression.Expression'>
    \end{sage}
    \begin{sagein}
    type(x)
    \end{sagein}
    \begin{sage}
      <type 'sage.symbolic.expression.Expression'>
    \end{sage}
    \begin{sagein}
    f+f
    \end{sagein}
    \begin{sage}
    2*x^2 - 6*x - 36
    \end{sage}
  \item\textbf{Operatoren:} 
    \begin{itemize}
    \item Typische \emph{Operatoren} sind \verb~+,-,*,/,..~
    \item In Sage werden Objekte immer durch Funktionen miteinander
    verbunden. Operatoren sind äquivalent zu Funktionen.
    %\item Operatoren sind in Sage auch als Funktionen realisiert.
    %\item Für wichtige Operatoren gibt es die gewohnte
    %Kurzschreibweise.
    \item Kombination verschiedener Operatoren: Die Regeln der \emph{Bindungsstärke} gelten (Punktrechnung vor Strichrechnung); Die Ordnung kann
    durch Klammersetzung geändert werden.
    \item Wichtige mathematische Operatoren:
      \begin{center}
      \begin{tabular}{|c|l|}
      \hline
      Operator/Funktion &  Erklärung\\
      \hline
      \hline
      \verb!+! & Addition \\
      \verb!-! & Subtraktion\\
      \verb!*! & Multiplikation \\
      \verb!/! & Division\\
      \verb!^! & Potenz\\
      \verb!%! &  Rest bei Division\\
      \verb!factorial()! & Fakultät \\
      \hline
      \end{tabular}
      \end{center}
     \end{itemize}
  \item\textbf{Ausdrücke:}
    \begin{itemize}
    \item Bausteine von Ausdrücken heißen \emph{Operanden}.
    \item {\color{blue} \isage{Ausdruck.nops()}}: Anzahl der Operanden. 
    \item {\color{blue} \isage{Ausdruck.operands()}}: Operanden selbst. 
    \item {\color{blue} \isage{Ausdruck.has(a)}}: Untersuchung ob $a$ ein Operand von \isage{Ausdruck} ist.
    \item Die Befehle beziehen sich jeweils auf die automatisch vereinfachten Objekte.\newpage
    \item \textbf{Beispiele:}
      \begin{sagein}
      _=var('z,y');f = x*z+3*x+sqrt(y)
      f.operands(),(f.operands())[1],((f.operands())[1]).nops()
      \end{sagein}
      \begin{sage}
      ([x*z, 3*x, sqrt(y)], 3*x, 2)
      \end{sage}
      \begin{sagein}
      f.has(z), f.has(6) 
      \end{sagein}

      \begin{sage}
      (True, False)
      \end{sage}
  \end{itemize}
  \item\textbf{Automatische Vereinfachung:}
    Sage führt oft automatische Vereinfachungen durch. Ansonsten muß
    der Benutzer gezielt Vereinfachungen anfordern.
    \begin{sagein}
    sin(15*pi), exp(0)
    \end{sagein}
    \begin{sage}
      (0, 1)
    \end{sage}
    \begin{sagein}
    2*Infinity-5
    \end{sagein}
    \begin{sage}
      +Infinity
    \end{sage}
    \begin{sagein}
    y = (-4*x+x^2+4)*(7*x+x^2+12); y
    \end{sagein}
    \begin{sage}
    (x^2 - 4*x + 4)*(x^2 + 7*x + 12)
    \end{sage}
    \begin{sagein}
    y.full_simplify()
    \end{sagein}
    \begin{sage}
    x^4 + 3*x^3 - 12*x^2 - 20*x + 48
    \end{sage}
  \item\textbf{Ausgabe von Variablen in Texten:}
    \begin{sagein}
    print "Text %<format> und %<format> ... " % (x,y,...)}
    \end{sagein}
    \begin{itemize}
    \item \isage{<format>} kann z.B. \isage{i} für \isage{integer} oder \isage{f} für \isage{float} sein
    \item Es kann beliebig viele format-Platzhalter geben
    \end{itemize}
    Beispiele: 
    \begin{sagein}
    x = 4;y = 6
    print "x ist %i und y ist %i" % (x,y)
    \end{sagein}
    \begin{sage}
    x ist 4 und y ist 6
    \end{sage}
    \begin{sagein}
    x = [var("x%i" % k) for k in [1..3]]; x
    \end{sagein}
    \begin{sage}
    [x1, x2, x3]
    \end{sage}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Praxisbezug}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Wir kommen nun zurück zu einigen praktischen Anwendungen des eben neu Gelernten- einiges Altbekannte wird uns wiederbegegnen:
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Dictionaries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item Dictionaries bestehen aus \emph{Assoziationen} der Form \verb+<Index>:<Wert>+. 
\item Definition:
\begin{sagein}
d = {<Index1>:<Wert1>,<Index2>:<Wert2>,...}
\end{sagein}
\item Zugriff:
\begin{sagein}
d[<Index>]
\end{sagein}
\item \textbf{Beispiel:}
\begin{sagein}
var('x,y,z');d = {x:21,y:5,z:42==y}
d[x],d[z],d[z].rhs()
\end{sagein}
\begin{sage}
(21, 42 == y, y)
\end{sage}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Funktionen und Abfragen}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item Anonyme Funktionen sind Funktionen die keinen aufrufbaren Namen besitzen (Sie sind ein Funktionen-Objekt)
\item Dies ist sinnvoll innerhalb von Konstrukten oder Aufrüfen anderer Funktionen.
\item Syntax:
\begin{sagein}
lambda <parameter_list>: <expression> 
\end{sagein}
\item \textbf{Beispiel}
\begin{sagein}
menge = [1,2,3,4,5]
map(lambda x: x^2,menge)
\end{sagein}
\begin{sage}
 [1, 4, 9, 16, 25]
\end{sage}
\item Objekte besitzen Funktionen, sogenannte \emph{Objekt-Methoden}. 
\item Ein Objekt kennt alle auf sich selbst anwendbaren Funktionen; Nur einige Methoden sind als globale Funktionen benutzbar (wie z.B. \isage{map()})\newpage
\item Beispiel
 \begin{sagein}
f = 1 +x -x^2; f.operands(); operands(f)
\end{sagein}
\begin{sage}
[-x^2, x, 1]
Traceback (click to the left of this block for traceback)
...
NameError: name 'operands' is not defined
\end{sage}
\textbf{Bemerkung:}\newline
 f.operands() erzeugt die erste Zeile.\newline
 Den ErrorCode verursacht operands(f).
\item Bereits bekannte Schleifen: \verb+[.. for .. in ..]+-Konstrukt. Die \verb+for+-Schleife kann  auch
ganze Blöcke wiederholen.
\begin{sagein}
for <indexvar> in <expr>/<list>:
    <Code-Block>
else:
    <Code-Block>
\end{sagein}
\textbf{Beispiel:}
\begin{sagein}
x = 2; y = 2
for k in [1..4]:
    x = x +k
    y = y^k
x,y
\end{sagein}
\begin{sage}
(12, 16777216)
\end{sage}
\textbf{Wichtig:} In Python/Sage ist solch ein Code-Block dadurch gekennzeichnet, dass er mit einem \textbf{:} eingeleitet wird und um ein TAB eingerückt ist!
\item Einfache Abfragen werden mittels \isage{if/else} realisiert. Diese können für ganze Blöcke genutzt werden:
\begin{sagein}
if <boolean expr>:
    <Code-Block>
\end{sagein}
\textbf{Beispiel:}
\begin{sagein}
x = 3; y = 2
if x > y :
    z = x
else:
    z = y
z
\end{sagein}
\begin{sage}
3
\end{sage}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Ausdrücke}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{itemize}
    Ausdrücke können beliebig addiert, subtrahiert, multipliziert und
    dividiert werden.\\ 
    \textbf{Beispiel:}
    \begin{itemize}
    \item Definition
    \begin{sagein}
    var('x,y'); f = x*x+3*x+y; g = x-y
    \end{sagein}
    \item Potenz
    \begin{sagein}
    f^g
    \end{sagein}
    \begin{sage}
    (x^2 + 3*x + y)^(x - y)
    \end{sage}
    \item Addition / Subtraktion
    \begin{sagein}
    f+g, f-g
    \end{sagein}
    \begin{sage}
    (x^2 + 4*x, x^2 + 2*x + 2*y)
    \end{sage}
    \item Multiplikation/ Division
    \begin{sagein}
    f*g, f/g
    \end{sagein}
    \begin{sage}
    ((x - y)*(x^2 + 3*x + y), (x^2 + 3*x + y)/(x - y))
    \end{sage}
    \end{itemize}
    {\color{blue} \isage{a.collect(<unknown>)}}: der Ausdruck \isage{a} wird bzgl. der \isage{unknown} Variablen sortiert.\\
    \textbf{Beispiel:}
    \begin{sagein}
    f = a*x^2+a*x+x^3+sin(x)+b*x+4*x+x*sin(x)
    f.collect(x)
    \end{sagein}
    \begin{sage}
    a*x^2 + x^3 + (a + b + sin(x) + 4)*x + sin(x)
    \end{sage}
    \begin{sagein}
    f.collect(x*sin(x))
    \end{sagein}
    \begin{sage}
    a*x^2 + x^3 + a*x + b*x + x*sin(x) + 4*x + sin(x)
    \end{sage} 
    {\color{blue} \isage{a.combine()}}:  der Ausdruck wird durch die Potenzgesetze zusammengefaßt.\\
    \textbf{Beispiel:}
    \begin{sagein}
    g = x^(a)*x^(b)
    g.combine()
    \end{sagein}
    \begin{sage}
    x^(a + b)
    \end{sage}
    {\color{blue} \isage{a.expand()}}: Ausmultiplizieren.\\
    {\color{blue} \isage{a.expand_trig()}}: Ausmultiplizieren mit Nutzung der trigonometrischen Eigenschaften.\newpage
    \textbf{Beispiel:}
    \begin{sagein}
    expand((x+2)^4)
    \end{sagein}
    \begin{sage}
    x^4 + 8*x^3 + 24*x^2 + 32*x + 16
    \end{sage}
    \begin{sagein}
    (sin(x+y)).expand_trig()
    \end{sagein}
    \begin{sage}
    sin(x)*cos(y) + sin(y)*cos(x)
    \end{sage}
    \begin{sagein}
    a = (16*x-13)^2 == (3*x+5)^2/2
    a.expand()
    \end{sagein}
    \begin{sage}
    256*x^2 - 416*x + 169 == 9/2*x^2 + 15*x + 25/2
    \end{sage}
    \begin{sagein}
    a.expand('left')
    \end{sagein}
    \begin{sage}
    256*x^2 - 416*x + 169 == 1/2*(3*x + 5)^2
    \end{sage}
    \begin{sagein}
    a.expand('right')
    \end{sagein}
    \begin{sage}
    (16*x - 13)^2 == 9/2*x^2 + 15*x + 25/2
    \end{sage}
    {\color{blue} \isage{factor(Ausdruck)}}:  Faktorisieren von Ausdrücken. 
    \begin{itemize}
    \item Sage faktorisiert nur, wenn die resultierenden Koeffizienten rationale 
    Zahlen sind. 
    \item Bei rationalen Funktionen wird ein gemeinsamer Hauptnenner gesucht.
    \end{itemize}
    \textbf{Beispiel:}
    \begin{sagein}
    factor(x^2-2), factor(x^2-9/4)
    \end{sagein}
    \begin{sage}
    (x^2 - 2, 1/4*(2*x - 3)*(2*x + 3))
    \end{sage}
    \begin{sagein}
    factor(2 - 2/(x^2-1))
    \end{sagein}
    \begin{sage}
    2*(x^2 - 2)/((x - 1)*(x + 1))
    \end{sage}
    {\color{blue} \isage{f.partial_fraction()}}: Zerlegung eines rationalen Ausdruck $f$ in eine
    Summe rationaler Terme (Zählergrad $<$ Nennergrad) (Partialbruchzerlegung).\\
    \textbf{Beispiel:}
    \begin{sagein}
    f = x^2/(x^2-1); f.partial_fraction()
    \end{sagein}
    \begin{sage}
    1/2/(x - 1) - 1/2/(x + 1) + 1
    \end{sage}
    \begin{sagein}
    f = (x^2+2*x+3)/(x^3+4*x^2+5*x+2); f 
    \end{sagein}
    \begin{sage}
    (x^2 + 2*x + 3)/(x^3 + 4*x^2 + 5*x + 2)
    \end{sage}
    {\color{blue} \isage{f.simplify()}}: simple Vereinfachung (Potenzen).
    {\color{blue} \isage{f.simplify_<target>()}}: vereinfacht den Ausdruck $f$ mit der Methode \isage{<target>}. Mögliche targets sind
    \begin{itemize}
    \item \isage{trig}: trigonometrisch
    \item \isage{rational}: rational
    \item \isage{radical}: log/ln/exp
    \item \isage{factorial}: Nutzung der Fakultät
    \item \isage{full}: alle Vereinfachungen
    \end{itemize}
    \textbf{Beispiele:}
    \begin{sagein}
    (2 - 2/(x^2-1)).simplify_rational()
    \end{sagein}
    \begin{sage}
    2*(x^2 - 2)/(x^2 - 1)
    \end{sage}
     \begin{sagein}
	  f = x/(x+y)+y/(x+y)-sin(x)^2-cos(x)^2
	  f.simplify_rational()
	  \end{sagein}
	  \begin{sage}
	  -sin(x)^2 - cos(x)^2 + 1
	  \end{sage}
     \begin{sagein}
	  g = sqrt(997)-(997^3)^(1/6)
	  g.simplify()
	  \end{sagein}
	  \begin{sage}
	  0
	  \end{sage}
    \begin{sagein}
	(tan(x)).simplify_trig()
	\end{sagein}
	\begin{sage}
	sin(x)/cos(x)
	\end{sage}
    \begin{sagein}
	a = (2^(1/3)+4^(1/3))^3-6*(2^(1/3) + 4^(1/3))-6
	a.simplify_full() 
	\end{sagein}
	\begin{sage}
	0
	\end{sage} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Gleichungen, Vergleiche, Logik}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
GLEICHUNGEN
    \begin{itemize}
	\item lineares Beispiel
	\begin{sagein}
	var('x,y')
	Gleichungen = [x+y == 1, x-y == 1]
	solve(Gleichungen,x,y)
	\end{sagein}
	\begin{sage}
	  [[x == 1, y == 0]]
	\end{sage}
	\item nichtlineares Beispiel
	\begin{sagein}
	Gleichungen1 = [x+y == 1,(x-y)^2 == 1]
	solve(Gleichungen1,x,y)
	\end{sagein}
	\begin{sage}
	  [[x == 0, y == 1], [x == 1, y == 0]]
	\end{sage}
	\end{itemize}
VERGLEICHE
        \begin{itemize}
	\item Operator {\color{blue} \isage{==}}: Überprüfung zweier Objekte auf Gleichheit.\\
	\isage{a==b} ist wahr (richtig), wenn $a$ und $b$ die gleichen Auswertungen
	besitzen (und vom gleichen Typ sind). 
	\item {\color{blue} \isage{bool(Ausdruck)}}: Überprüfung von Aussagen. Ergebnis: \isage{True} oder
	\isage{False}.
	\item Operator {\color{blue} \isage{<>}}:  Überprüfung zweier Objekte auf Ungleichheit. \\
	\isage{a<>b} ist \isage{True}, falls $a$ nicht gleich $b$
	ist. 
	\end{itemize}
        \textbf{Beispiele:}
	   \begin{sagein}
		bool(4-3==1)
		\end{sagein}
		\begin{sage}
		  True
		\end{sage}
	   \begin{sagein}
		bool(4*x==x); x=0; bool(4*x==x)
		\end{sagein}
		\begin{sage}
		False
		True
		\end{sage}
	    \begin{sagein}
		bool(x==0); bool(x<>0)
		\end{sagein}
		\begin{sage}
		True
		False
		\end{sage}
	   \begin{sagein}
		bool(0.5==1/2)
		\end{sagein}
		\begin{sage}
		  True
		\end{sage}
	   \begin{sagein}
		type(0.5); type(1/2)
		\end{sagein}
		\begin{sage}
		<type 'sage.rings.real_mpfr.RealLiteral'>
		<type 'sage.rings.rational.Rational'>
		\end{sage}
LOGIK
\begin{itemize}
 \item  Logisches 'und' (\isage{and})
\item Logisches 'oder' (\isage{or}) 
\item Logisches 'nicht' (\isage{not})
\end{itemize}
\textbf{Beispiel:}
\begin{sagein}
true and false, true or false, not true
\end{sagein}
\begin{sage}
 (False, True, False)
\end{sage}
\begin{itemize}
 \item Logiktabelle:
\end{itemize}
\begin{center}
\begin{tabular}{|c||c|c|}
\hline
\textbf{and} & \isage{True} & \isage{False}  \\\hline\hline
\isage{True} & \isage{True} & \isage{False}  \\\hline
\isage{False} & \isage{False} & \isage{False} \\\hline
\end{tabular}
\bigskip

\begin{tabular}{|c||c|c|}
\hline
\textbf{or} & \isage{True} & \isage{False} \\\hline\hline
\isage{True} & \isage{True} & \isage{True}  \\\hline
\isage{False} & \isage{True} & \isage{False}  \\\hline
\end{tabular}
\end{center}

GLS

\begin{itemize}
\item {\color{blue}\isage{<gleichungen>}}: System von Gleichungen.
\item  {\color{blue}\isage{<variablen>}}: Danach wird aufgelöst.
\item {\color{blue}\isage{<optionen>}}:
\begin{itemize}
\item {\color{blue}\isage{multiplicities=True}}:  Vielfachheit der Lösungen wird mit ausgegeben.
\item {\color{blue}\isage{solution_dict=True}}: Lösung wird als Dictonary zurück gegeben.
\end{itemize}
\item Bei einzelnen Gleichungen wird der Lösungswert
zurückgegeben. Bei mehreren Gleichungen wird ein System äquivalenter
Gleichungen zurückgegeben.
\end{itemize}
\textbf{Beispiele:}
\begin{sagein}
solve(x^2+x == y/4,x)
\end{sagein}
\begin{sage}
[x == -1/2*sqrt(y + 1) - 1/2, x == 1/2*sqrt(y + 1) - 1/2]
\end{sage}
\begin{sagein}
f = (x-1)^5*(x^2+1)
solve(f == 0, x)
\end{sagein}
\begin{sage}
[x == -I, x == I, x == 1]
\end{sage}
\begin{sagein}
solve(f == 0, x, multiplicities=True)
\end{sagein}
\begin{sage}
([x == -I, x == I, x == 1], [1, 1, 5])
\end{sage}
\begin{sagein}
assume(x>0); solve(x^2+x == y/4,x)
\end{sagein}
\begin{sage}
 [y == 4*x^2 + 4*x]
\end{sage}
\begin{sagein}
solve([x^2-y^2 == 0],[x,y])
\end{sagein}
\begin{sage}
([x == -y, x == y], [1, 1])
\end{sage}
\begin{sagein}
solve([x^2-y^2 == 0, x+y == 1],x,y)
\end{sagein}
\begin{sage}   
[[x == (1/2), y == (1/2)]]
\end{sage}
\begin{sagein}
sol = solve([x^2-y^2 == 0, x+y == 1],x,y, solution_dict=True); sol 
\end{sagein}
\begin{sage}
 [{y: 1/2, x: 1/2}]
\end{sage}
\begin{sagein}
 sol[0][x], sol[0][y]
\end{sagein}
\begin{sage}
 (1/2, 1/2)
\end{sage}
GLS numerisch 
\begin{sagein}
f.find_root(a,b) 
\end{sagein}
Finden von Nullstellen der Gleichung $f$ im Intervall $[a,b]$.\\
\textbf{Beispiel:}
\begin{sagein}
 (x == sin(x)).find_root(-2,2)
\end{sagein}
\begin{sage}
0.0
\end{sage}



\end{document}