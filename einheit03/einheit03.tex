\documentclass[notes=hide,hyperref={dvipdfmx,pdfpagelabels=false}]{beamer}
\title{Einführung in Sage - Einheit 3}
\subtitle{Mengen, Zahlen}
\input{../slide_header}
%\maketitle

\begin{frame}{Aufbau}
\tableofcontents
\end{frame}

%===================================================
\section{Mengen}
%==================================================


\begin{frame}{Mengen}
\begin{quote}
Unter einer \alert{Menge} verstehen wir jede Zusammenfassung $M$ von bestimmten wohlunterschiedenen Objekten $m$ unserer Anschauung oder unseres Denkens zu einem Ganzen.\\
{\tiny (G. Cantor; Beiträge zur Begründung der transfiniten Mengenlehre; Mathematische Annalen; Bd. 46; 1895; S. 481-512) }
\end{quote}
 \begin{itemize}
\item \alert{Element}: Ein Objekt $x$ in der Menge $M$ (\alert{$x \in  M$}). 
\item \alert{Enthalten}: Es gilt für alle $x \in M$ auch $x \in N$ (\alert{$M \subset N$}).
\item \alert{Gleichheit}: Es gilt $M\subset N$ und $N \subset M$ (\alert{$M=N$}).
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Mengen in Sage}
\begin{sagein}
Set([<element1>,<element2>,...])
\end{sagein}
\begin{itemize}
\item Es ist eine {\color{blue} ungeordnete} Menge von beliebigen
  Objekten. 
\item Mengen in Sage haben den Typ \alert{\isage{set}}.
\item Leere Mengen: \isage{leere_menge = Set([])}. 
\item Zugriff: \isage{M[n]} (Menge $M$, $n\ge0$)
\item Intervallzugriff: \isage{M[i:j]}.
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Beispiele für Mengen}
\begin{sagein}
M1 = Set([x, 2,3,pi,sqrt(2)]); M1
\end{sagein}
\begin{sage}
{pi, 2, 3, sqrt(2), x}
\end{sage}
\begin{sagein}
var('y');M2 = Set([y,1,Set([1,y]),2,x]); M2
\end{sagein}
\begin{sage}
{1, y, 2, x, {1, y}}
\end{sage}
\end{frame}

\begin{frame}[fragile]{Befehle für Mengen I}
\begin{itemize}
\item Anzahl der Elemente in einer Menge:
\begin{sagein}
M1.cardinality()
\end{sagein}
\begin{sage}
  5
\end{sage}
\item Zugriff:
\begin{sagein}
M2[1]; M2[1:4]
\end{sagein}
\begin{sage}
y
[y, 2, x]
\end{sage}
%\item Ändern von Einträgen mit \isage{op} und \isage{subsop} ohne Nebeneffekt:
%\begin{sagein}
%op(M2,3), subsop(M2,3=neu)
%\end{sagein}
%\begin{sage}
%  {1, y}, {1, 2, neu, x, y}
%\end{sage}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Befehle für Mengen II}
\begin{itemize}
\item Vereinigung, Differenz, Schnitt:
\begin{sagein}
L1 = Set([1,2,3,a,b]); L2 = Set([a,b,c,4,5])
L1.union(L2), L1.difference(L2), L1.intersection(L2)
\end{sagein}
\begin{sage}
({1, 2, 3, 4, a, c, b, 5}, {1, 2, 3}, {b, a})
\end{sage}
\item Prüfen, ob  ein Element enthalten ist:
\begin{sagein}
a in L1, c in L1
\end{sagein}
\begin{sage}
(True, False)
\end{sage}
\begin{sagein}
Set([1,y]) in M2
\end{sagein}
\begin{sage}
True
\end{sage}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Befehle für Mengen III}
\begin{itemize}
\item Auswählen von Elementen mit bestimmten Eigenschaften
\begin{sagein}
M = Set(range(1,15))
filter(is_prime,M)
\end{sagein}
\begin{sage}
  [2, 3, 5, 7, 11, 13]
\end{sage}
\item Erzeugen der Potenzmenge
\begin{sagein}
list(powerset([1,2,3]))
[s for s in Set([1..3]).subsets()]
\end{sagein}
\begin{sage}
[[], [1], [2], [1, 2], [3], [1, 3], [2, 3], [1, 2, 3]]
[{}, {1}, {2}, {3}, {1, 2}, {1, 3}, {2, 3}, {1, 2, 3}]
\end{sage}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Filter - \verb~filter()~}
Ein Filter erzeugt eine Teilmenge aus einer größeren Menge.
\begin{sagein}
M1 = filter(<f>,<M>)
\end{sagein}
\begin{itemize}
\item \isage{f(x)} ist eine Abbildung auf die Boolschen Werte \isage{True/False}. 
\item \isage{M1} ist die Teilmenge  die aus den Elementen $x\in M$ besteht, für die \isage{f(x)} eine wahre Aussage
ergibt. 
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Beispiel für Filter I}
\begin{sagein}
M = Set(range(1,101))
def f(x): return bool(mod(x,2)==0)
M2 = Set(filter(f,M))
def f(x): return bool(mod(x,15)==0)
M15 = Set(filter(f,M))
M2.intersection(M15)
\end{sagein} 
\begin{sage}
 {90, 60, 30}
\end{sage}
Alternative:
\begin{sagein}
M2 = Set([m for m in M if mod(m,2)==0])
M15 = Set([m for m in M if mod(m,15)==0])
\end{sagein}

\end{frame}

\begin{frame}[fragile]{Beispiel für Filter II}
Ist Menge \isage{A1} eine Teilmenge von Menge \isage{A}?
\begin{sagein}
A = Set(range(1,11))
A1 = Set(range(1,3))
A2 = Set(range(9,12))
\end{sagein}
\begin{sagein}
A.intersection(A1) == A1
\end{sagein}
\begin{sage}
  True
\end{sage}
\begin{sagein}
A.intersection(A2) == A2
\end{sagein}
\begin{sage}
  False
\end{sage} 
\end{frame}

% \begin{frame}[fragile]{Multimengen}
%  Oft ist es nützlich Elemente von Mengen mit Vielfachheit zu zählen. In MuPAD 
%  gibt es deshalb den Datentyp  \isage{Dom::Multiset}. Die Elemente der Menge werden mit Vielfachheit aufgeführt.
% \begin{sagein}
% Multimenge := Dom::Multiset(a,a,b,c,a,c,d)
% \end{sagein}
% \begin{sage}
%   {[a, 3], [b, 1], [c, 2], [d, 1]}
% \end{sage}
% \begin{sagein}
% Multimenge union {a}; Multimenge minus {c}
% \end{sagein}
% \begin{sage}
%   {[a, 4], [b, 1], [c, 2], [d, 1]}
%   {[a, 3], [b, 1], [c, 1], [d, 1]}
% \end{sage}
% \end{frame}






%-------------------------------------
\section{Zahlen}
%--------------------------------------

\begin{frame}{Natürliche Zahlen $\mathbb{N}$ (nach Peano)}
% andere einfuehrung!
Natürliche Zahlen $\mathbb{N} := \{0,1,2,3,\dots\}$:
\begin{enumerate}
\item $0 \in \mathbb{N}$
\item Es gibt eine Nachfolgerabbildung $nf : \mathbb{N} \
  \rightarrow \mathbb{N} \smallsetminus \{ 0 \}$
\item $nf$ ist injektiv.
\item Ist $M \subset \mathbb{N}$ mit $0 \in M$ und folgt für alle  $m \in M$ das
  $nf(m) \in M$ gilt, so ist $M=\mathbb{N}$.
\end{enumerate}
Bemerkungen:
\begin{itemize}
\item Nachfolgefunktion: $nf(m)=m+1$
\item Es besteht ein enger Zusammenhang zwischen den natürlichen
  Zahlen und vollständiger  Induktion.
%TODO:erklaerung  .
\item Sage: kein eigener Datentyp (aber: ganze Zahlen (Integer)). 
\end{itemize}
\end{frame}

\begin{frame}{Äquivalenzrelation}
Sei $M$ eine Menge. Eine {\color{red} Äquivalenzrelation} $R$ auf $M$ ist eine Teilmenge
\[R\subseteq M \times M\]
 mit den folgenden Eigenschaften (Schreibweise: $(x,y) \in R$, $x \sim_R y$, $x \sim y$):
\begin{enumerate}
\item \textbf{Reflexivität:} für alle $x \in M$ gilt $x \sim x$. 
\item \textbf{Symmetrie:} für alle $x,y \in M$ folgt aus $x \sim y$ das $y \sim x$.
\item \textbf{Transitivität:} für alle $x,y,z \in M$ und $x \sim y$, $y \sim z$ folgt
  $x \sim z$.  
\end{enumerate}
\end{frame}

\begin{frame}{Äquivalenzklasse}
\begin{itemize}
\item Sei $\sim_R$ eine Äquivalenzrelation auf einer Menge $M$.
\item Eine Teilmenge $A \subset M$ heißt {\color{red} Äquivalenzklasse}, falls gilt:
\begin{itemize}
\item [(a)] $A \neq \emptyset$.
\item [(b)] $x,y \in A \ \Rightarrow \ x \sim y$.
\item [(c)] $x \in A$, $y \in M$, $x \sim y$ $\Rightarrow$ $y \in A$.
\end{itemize}
\item Eine Äquivalenzrelation zerlegt eine Menge in disjunkte
Äquivalenzklassen.  
\item Andersrum definiert eine disjunkte Zerlegung einer Menge eine Äquivalenzrelation.
\item  Ein $a \in A$ ist ein {\color{red} Repräsentant} der Äquivalenzklasse
$A$. Man schreibt auch $\overline{a}$ oder $a \bmod R$ für ein Äquivalenzklasse $A$. 
\end{itemize}
\end{frame}

\begin{frame}{Ganze Zahlen $\mathbb{Z}$}
Ganze Zahlen: $\mathbb{Z}:=\{ 0,1,-1,2,-2,\dots \}$
% das kann abe rbesser...
\begin{itemize}
\item Äquivalenzrelation auf $\mathbb{N} \times \mathbb{N}$:\\
$(m,n) \sim (p,q) \mbox{ genau dann, wenn } m+q=n+p \mbox{ gilt.} $
\item Nichtnegative Zahlen: $(m,0)$. Sie sind paarweise nicht äquivalent
zueinander.
\item Negative Zahlen: $(0,m)$. 
\item Die ganzen Zahlen $\mathbb{Z}$ sind  gegeben durch die Menge
der Äquivalenzklassen.
\item Addition:
\[
\overline{(m,n)}+\overline{(u,v)}:=\overline{(m+u,n+v)}\]
\item Multiplikation:
\[
\overline{(m,n)}\cdot\overline{(u,v)}:=\overline{(m u+nv,mv+nu)}
\]
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Ganze Zahlen in Sage}
Datentyp \isage{Integer}. \\
\textbf{Beispiele:}
\begin{sagein}
type(5), type(0), type(-5)
\end{sagein}
\begin{sage}
(<type 'sage.rings.integer.Integer'>, 
<type 'sage.rings.integer.Integer'>, 
<type 'sage.rings.integer.Integer'>)
\end{sage}
Division
\begin{sagein}
type(5*4), type(5/4)
\end{sagein}
\begin{sage}
(<type 'sage.rings.integer.Integer'>, 
<type 'sage.rings.rational.Rational'>)
\end{sage}
\end{frame}

\begin{frame}[fragile]{Division mit Rest}
Seien $x \in \mathbb{Z}$, $a \in \mathbb{N}$. Dann gibt es eindeutig bestimmte Zahlen
$n,r \in \mathbb{Z}$ mit $r \in \{0,1,\dots ,a-1\}$, so dass $x=na + r$ gilt. \\
\textbf{Beispiele:}
\begin{sagein}
mod(45,7), floor(45/7)
\end{sagein}
\begin{sage}
(3, 6)
\end{sage}
\begin{sagein}
mod(-34,8), floor(-34/8)
\end{sagein}
\begin{sage}
(6, -5)
\end{sage}
\end{frame}

\begin{frame}[fragile]{Rationale Zahlen $\mathbb{Q}$}
Äquivalenzrelation auf $\mathbb{Z}\times(\mathbb{Z}\smallsetminus \{ 0\})$:
\[ (m,n) \sim (p,q) \mbox{ genau dann, wenn } mq=np \mbox{ gilt.} \]
Statt $(m,n)$ schreibt man $\frac{m}{n}$.
\begin{itemize}
\item Die Äquivalenzklasse $\overline{(0,n)}$, $n \in \mathbb{Z}$ ist
die $0$ in $\mathbb{Q}$.
\item Mit $(n,m)$ gehören auch alle Erweiterungen $(kn,km)$ zu einer
Ä.-klasse.  
\item Addition:  
\[ 
\overline{\genfrac(){}{}{m}{n}}+\overline{\genfrac(){}{}{p}{q}}=\overline{\genfrac(){}{}{mq+pn}{nq}},
\]
Multiplikation:
\[
\overline{\genfrac(){}{}{m}{n}} \ \cdot \ \overline{\genfrac(){}{}{p}{q}}=\overline{\genfrac(){}{}{mp}{nq}}.
\]
%\item Die rationalen Zahlen bilden einen \alert{Körper}.
\end{itemize} 
\end{frame}

\begin{frame}[fragile]{Rationale Zahlen in Sage}
Datentyp \isage{rational}. 

\begin{sagein}
var('a,b,c,d'); (a/b+c/d).simplify_rational())
\end{sagein}
\begin{sage}
(a*d + b*c)/(b*d)
\end{sage}

\begin{sagein}
bool(a/b+c/d == (a/b+c/d).simplify_rational())
\end{sagein}
\begin{sage}
True
\end{sage}
\end{frame}

\begin{frame}[fragile]{Gruppe}
Eine {\color{red} Gruppe} ist ein Paar $(G,\cdot)$ bestehend aus einer Menge
$G$ und einer Verknüpfung $\cdot$ auf $G$, d.h. einer Abbildung
\[
 \cdot: G \times G \ \rightarrow \ G, \quad (a,b) \mapsto a \cdot b
\]
mit folgenden Eigenschaften
\begin{itemize}
\item [(G1)] $(a \cdot b) \cdot c =a \cdot (b \cdot c)$ für alle
$a,b,c \in G$.
\item [(G2)] Es existiert ein $e \in G$ ({\it neutrales Element}) mit $e \cdot a =a$ für alle $a
\in G$ und zu jedem $a \in G$ existiert ein $a' \in G$ ({\it inverses
Element}) mit $a' \cdot
a=e$. 
\end{itemize}  
{\it abelsche} Gruppe: $a \cdot b = b \cdot a$ \alert{für alle} $a,b \in G$.
\end{frame}

\begin{frame}[fragile]{Eigenschaften einer Gruppe}
\begin{itemize}
\item Für ein neutrales Element gilt auch $a \cdot e= a$ für alle
$a\in G$.
\item Es gibt genau ein neutrales Element $e \in G$.
\item Zu jedem $a \in G$ ist das inverse Element $a' \in G$ eindeutig
und wird durch $a^{-1}$ bezeichnet. 
\item Es gilt auch $a \cdot a'=e$. 
\item Für abelsche Gruppen schreibt man oft $+$ statt $\cdot$. Das Inverse zu $a$ wird dann mit $-a$, das Neutrale mit $0$ bezeichnet.
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Körper}
Ein {\color{red} Körper} ist ein Tripel $(K,+,\cdot)$ bestehend aus einer
Menge $K$ und zwei Verknüpfungen $+$ und $\cdot$ mit folgenden
Eigenschaften:
\begin{itemize}
\item [(K1)] $(K,+)$ ist eine abelsche Gruppe. (Das neutrale Element
heiße $0$. Das inverse Element zu $a \in K$ sei $-a$.) 
\item [(K2)] $(K \smallsetminus \{ 0 \}, \cdot)$ sei eine abelsche
Gruppe. (Das neutrale Element dazu sei $1$.)
\item [(K3)] Distributivgesetze
\begin{eqnarray*}
a \cdot (b + c) & = & (a \cdot b) + (a \cdot c)\\
(a+b) \cdot c & = &   (a \cdot c) + (b \cdot c) \mbox{ für alle }
a,b,c \in K.
\end{eqnarray*}
\end{itemize}
(Ein Körper ist ein kommutativer unitärer Ring)
\end{frame}

\begin{frame}[fragile]{Beispiele}
Gruppen:
\begin{itemize}
\item $(\mathbb{Z},+)$, die ganzen Zahlen mit Addition.
\item $(\mathbb{Z}/n\mathbb{Z},+)$, die Restklassen modulo $n$ mit Addition.
\item $(\mathbb{Q},+)$, $(\mathbb{Q} \smallsetminus \{ 0 \} ,\cdot)$
\item $(\mathop{Add}(M,\mathbb{R}),+)$, die reellwertigen Funktionen auf einer Menge $M$ mit punktweiser Addition.
\end{itemize} 
Körper:
\begin{itemize}
\item Die rationalen Zahlen $\mathbb{Q}$ mit den Verknüpfungen $+$ und $\cdot$.
\item Die reellen Zahlen $\mathbb{R}$ mit den Verknüpfungen $+$ und $\cdot$.
\item Die komplexen Zahlen $\mathbb{C}$ mit den Verknüpfungen $+$ und $\cdot$.
\item Für $p$ Primzahl $\mathbb{Z}/p\mathbb{Z}$, die Restklassen modulo $p$ mit $+$ und $\cdot$.
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Körper und Gruppen in Sage}
\begin{itemize}
\item Die ganzen Zahlen  $\mathbb{Z}$: \isage{ZZ}
\item Die rationalen Zahlen $\mathbb{Q}$: \isage{QQ} 
\item Die reellen Zahlen $\mathbb{R}$: \isage{RR} 
\item Die komplexen Zahlen $\mathbb{C}$ : \isage{CC}
\end{itemize}
\begin{sagein}
QQ(5.01), RR(5/3) 
\end{sagein}
\begin{sage}
(501/100, 1.66666666666667)
\end{sage}
\begin{sagein}
RR.is_field(),ZZ.is_field()
\end{sagein}
\begin{sage}
(True, False)
\end{sage}
\end{frame}


\begin{frame}[fragile]{Anordnung}
Sei $K$ ein Körper. Er heißt {\color{red} angeordnet}, wenn es einen {\color{red}
Positivbereich} $P \subset K$ gibt mit
\begin{itemize}
\item Die Mengen $P$, $\{ 0 \}$, und $-P:=\{-x\;|\;x \in P \}$ sind
disjunkt. 
\item $K = P \cup \{ 0 \} \cup -P$.
\item Aus $x,y \in P$ folgt $x+y \in P$ und $x \cdot y \in P$. 
\end{itemize}
Man definiert:
\begin{eqnarray*}
 x >y& \text{genau dann, wenn}& x-y\in P,\\
 x \geq y&  \text{genau dann, wenn} &x-y \in P \cup \{ 0 \}.
\end{eqnarray*}
Analog definiert man $<$ und $\leq$. 
\end{frame}

\begin{frame}{Schranken}
Sei $K$ ein angeordneter Körper.
\begin{itemize}
\item {\color{red} obere Schranke} $y\in K$: Für $M \subset K$, wenn für alle $x\in M$ die Relation $x \leq y$ gilt.
\item nach oben {\color{red} beschränkt}: Wenn eine Teilmenge $M$ von $K$ eine obere Schranke besitzt (analog {\color{red} untere Schranke}).
\item {\color{red} Maximum} von $M$: Eine obere Schranke $y$ einer Teilmenge $M \subset K$, wenn $y\in M$ (analog {\color{red} Minimum}).
\item {\color{red} Supremum}: Die kleinstmögliche obere Schranke $y$ einer Teilmenge $M \subset K$ (analog {\color{red} Infimum}) 
(Nicht notwendigerweise in $M$ oder $K$).  
\end{itemize}
\end{frame} 

\begin{frame}{Reelle Zahlen $\mathbb{R}$}
\begin{itemize}
\item Sei $M$ die Menge aller Teilmengen von $\mathbb{Q}$ mit oberer
Schranke.
\item Äquivalenzrelation: Zwei Elemente aus $M$ seien äquivalent, wenn sie dieselben
Mengen von oberen Schranken haben. 
\item Die entstehenden Äquivalenzklassen nennt man {\color{red} reelle
Zahlen}.
\end{itemize}
Bemerkungen
\begin{itemize}
\item Es lassen sich die üblichen Verknüpfungen auf $\mathbb{R}$
definieren. 
\item Die reellen Zahlen können auch als Vervollständigung von
$\mathbb{Q}$ definiert werden oder durch den Dedekindschen Schnitt.
\item Die rationalen Zahlen sind als Äquivalenzklassen der
einelementigen Mengen $\{ x \}$, $x \in \mathbb{Q}$ enthalten.

 \end{itemize}
\end{frame}


\begin{frame}[fragile]{Reelle Zahlen in Sage - Gleitkommazahlen }
Datentyp \isage{RealNumber}\\
\textbf{Problem:}
keine exakte Darstellung möglich => Approximation: die Gleitkommazahlen
\begin{itemize}
\item Gleitkommazahlen haben in Sage den Datentyp \isage{float}. 
%\item Gleitkommazahlen werden zur Basis $10$ ausgegeben.
\item Die Anzahl der signifikanten Stellen kann durch die Objekt-Methode \isage{n(digits=<digits>)} gesteuert werden
%\item Intern werden zus\"atzliche Schutzstellen verwendet. Z.B. wird
%bei DIGITS=10 intern mit ca. 19 Stellen gerechnet. ?? nachlesen
\end{itemize}

\textbf{Beispiel:} $\sqrt{2}$
\begin{sagein}
(sqrt(2)).n(digits=200)
\end{sagein}
\begin{sage}
1.4142135623730950488016887
242096980785696718753769480731767
\end{sage}
\end{frame}



\begin{frame}[fragile]{Rundungsfehler}
\begin{itemize}
\item \alert{Relativer Fehler}: Sei $rd(x)$ die 'gerundete' Gleitkomma-Zahl zu $x \in \mathbb{R}$.  Dann gilt
\[ \frac{|x -rd(x)|}{|x|} \leq \varepsilon \]
mit $\varepsilon=b^{1-t}$ ($b$=Basis, $t$=Anzahl signifikante Stellen).
\item Rundungsfehler können sich innerhalb eines Verfahrens
verstärken. ({\it Fehlerfortpflanzung}).
\item Katastrophale Auswirkungen möglich! Z.B. Absturz der Arianne-Rakete
1996.
\end{itemize}
Warnung! {\color{red} Die Subtraktion zweier fast gleichgroßer Gleitkommazahlen ist zu
vermeiden.}
\end{frame}


\begin{frame}[fragile]{Rechnen mit Zahlen I}
\begin{itemize}
 \item Berechnen einer numerischen  Näherung
\begin{sagein}
(pi).n(digits=22), (exp(1)).n(digits=22)
\end{sagein}
\begin{sage}
(3.141592653589793238463, 2.718281828459045235360)
\end{sage}
\item Sage rechnet mit \isage{floats}, sobald mindestens eine Zahl in
Gleitkommadarstellung gegeben ist 
\begin{sagein}
(1.0+(5/2*3))/(1/7+7/9)^2
\end{sagein}
\begin{sage}
10.0286860879905
\end{sage}
\begin{sagein}
(1+(5/2*3))/(1/7+7/9)^2
\end{sagein}
\begin{sage}
67473/6728
\end{sage}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Rechnen mit Zahlen II}
\begin{itemize}
\item Viele Sage Funktionen liefern numerische Werte beim Einsetzen
     von Gleitkommazahlen.
\begin{sagein}
sqrt(64.0), sin(3.14), sin(7/5)
\end{sagein}
\begin{sage}
(8.0000000000000, 0.00159265291648683, sin(7/5))
\end{sage}
\item Ausdrücke werden nicht automatisch umgewandelt
\begin{sagein}
2/3*sin(2), 0.666666666666666*sin(2)
\end{sagein}
\begin{sage}
(2/3*sin(2), 0.666666666666666*sin(2))
\end{sage}
\begin{sagein}
float(2/3*sin(2))
\end{sagein}
\begin{sage}
0.60619828455045444
\end{sage}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Auslöschung}
\begin{sagein}
x = 10^(-2); ((1.0+x)-1.0)/x
\end{sagein}
\begin{sage}
  1.00000000000000
\end{sage}
\begin{sagein}
x = 10^(-4); ((1.0+x)-1.0)/x
\end{sagein}
\begin{sage}
 0.999999999999890
\end{sage}
\begin{sagein}
x = 10^(-16); ((1.0+x)-1.0)/x
\end{sagein}
\begin{sage}
  0.000000000000000
\end{sage}
\end{frame}

\begin{frame}[fragile]{Wichtige Funktionen für Zahlen}
\begin{center}
\begin{tabular}{|ll|}
\hline
\isage{abs} & Absolutbetrag\\
\isage{ceil} & Aufrunden\\
\isage{floor} & Abrunden\\
%\isage{frac} & Abschneiden der Vorkommastellen\\
%\isage{trunc} & Abschneiden der Nachkommastellen\\
\isage{round} & Runden\\
%\isage{sign} & Vorzeichen\\
\isage{sqrt} & Wurzel\\
\isage{digits} & Anzahl Stellen\\
%\isage{parent} & Vaterobjekt; Gruppe der Zahl\\
\hline
\end{tabular}
\end{center}
\end{frame}

\begin{frame}{Darstellung von Gleitkommazahlen I}
\[ x=(-1)^{\color{brown} s} \cdot ({\color{red} 0.a_1a_2 \dots a_t}) \cdot {\color{blue}
  b^e}, \quad { \color{red} a_1} \neq 0
\]
\begin{itemize}
\item ${\color{blue} b} \in \mathbb{N} \smallsetminus \{ 0, 1\}$ ist die Basis
\item ${\color{red} a_1} \neq 0$ erzwingt die Eindeutigkeit der Darstellung.
\item ${\color{brown} s \in \{0, 1\}}$ das Vorzeichen.
\item Es sei ${\color{red} a_i} \in \{0,1,\dots, b-1 \}$.
\item $t$ ist die Anzahl der {\it signifikanten Stellen}.   
\item $x$ hat den Wert $(-1)^s b^e \sum_{k=1}^t a_k b^{-k}$. 
\item Man spricht von einer {\color{red} $b$-adischen Darstellung} oder einer Darstellung zur Basis $b$.
\end{itemize} 
\end{frame}

\begin{frame}[fragile]{Darstellung von Gleitkommazahlen II}

\textbf{Beispiele:}
\[ 73 = {\color{red} 1} \cdot 2^6+{\color{red} 0} \cdot 2^5 +{\color{red} 0} \cdot 2^4 +
  {\color{red} 1} \cdot 2^3 +{\color{red} 0} \cdot 2^2
  + {\color{red} 0} \cdot 2^1 + {\color{red} 1} \cdot 2^0 
\]
$\Rightarrow$ Binärdarstellung {\color{red} $1001001=0.1001001\cdot 2^7$}.
\[
73={\color{blue} 1} \cdot 8^2 + {\color{blue} 1} \cdot 8^1 + {\color{blue} 1} \cdot 8^0
\]
 $\Rightarrow$ Oktaldarstellung {\color{red} $111=0.111 \cdot 8^3$}.
\begin{sagein}
73.str(2)
\end{sagein}
\begin{sage}
1001001
\end{sage}
\begin{sagein}
73.str(8)
\end{sagein}
\begin{sage}
111
\end{sage}


\end{frame}


\begin{frame}[fragile]{Darstellung von Gleitkommazahlen III}

\[ 2.45 = {\color{red} 1} \cdot 2^1 + {\color{red} 0} \cdot 2^0 + {\color{red} 0} \cdot
  2^{-1} + {\color{red} 1} \cdot 2^{-2}+
{\color{red} 1} \cdot 2^{-3} + {\color{red} 1} \cdot 2^{-4}+{\color{red} 0} \cdot 2^{-5}+ \dots \]
$\Rightarrow$ Binärdarstellung {\color{red} \ $10.01110 \dots$}\\

\[ 2.45 = {\color{red} 2} \cdot 8^0 +  {\color{red} 3} \cdot
  8^{-1} + {\color{red} 4} \cdot 8^{-2}+
{\color{red} 6} \cdot 8^{-3} + {\color{red} 3} \cdot 8^{-4}+{\color{red} 1} \cdot 8^{-5}+ \dots \]
$\Rightarrow$ Oktaldarstellung {\color{red} \ $2.34631 \dots$}\\
 \begin{sagein}
 (2.45).str(2)
 \end{sagein}
 \begin{sage}
10.011100110011001100110011001100110011001100110011010
 \end{sage}
 \begin{sagein}
 (2.45).str(8)
 \end{sagein}
 \begin{sage}
2.346314631463146320
 \end{sage}

\end{frame}


\begin{frame}{Komplexe Zahlen $\mathbb{C}$}
Der Körper $\mathbb{C}$ der {\color{red} komplexen Zahlen}:
Die Menge $\mathbb{R}^2=\mathbb{R} \times \mathbb{R}$ mit 
\begin{itemize}
 \item   Addition: $(k,l)+(n,m)=(k+n,l+m)$
\item Multiplikation:  $ (k,l) \cdot (n,m) = (kn-lm, km+ln) $
\end{itemize}

\begin{itemize}
 \item {\color{red} $i:=(0,1)$}  mit 
\begin{itemize}
\item $ i^2=(0,1) \cdot (0,1) = (-1,0) $
\item $\forall (x,y) \in \mathbb{C}:  (x,y)=x \cdot (1,0) + y \cdot (0,1)= x +i y$
\end{itemize}
\item \alert{Betrag}: $|z|=|(x,y)|:=\sqrt{x^2+y^2}$ (Sage: \isage{abs})
\end{itemize}



\end{frame}

\begin{frame}[fragile]{Eigenschaften von $\mathbb{C}$}
\begin{itemize}
\item \alert{Fundamentalsatz der Algebra}: Jedes nicht konstante Polynom (mit komplexen Koeffizienten) hat mindestens eine Nullstelle in $\mathbb{C}$. 
\item Polarkoordinaten $(r, \varphi)$ zu $(x,y) \in \mathbb{C}$
\[  r:= \sqrt{x^2+y^2}, \quad \tan(\varphi)=\frac{y}{x} \] 

\item Es gilt: $z = (x,y)_{\text{Rechtwinklig}} = (r,\varphi)_{\text{Polar}} = re^{i\varphi}$
\end{itemize}
\end{frame}

\begin{frame}[fragile]{$\mathbb{C}$ in Sage I}
\begin{itemize}
\item Datentyp in Sage: \isage{complex}
\item Die imaginäre Einheit $i=(0,1)$ ist in Sage \isage{I}.
\begin{sagein}
sqrt(-1), I^2
\end{sagein}
\begin{sage}
(I, -1)
\end{sage}
\item Rechnen mit komplexen Zahlen
\begin{sagein}
(1+2*I)*(4+I), (1/2+I)*(0.1+I/2)
\end{sagein}
\begin{sage}
 (9*I + 2, -0.4500000000 + 0.3500000000*I)
\end{sage}
\end{itemize}
\end{frame}

\begin{frame}[fragile]{$\mathbb{C}$ in Sage II}
\begin{itemize}
\item  Keine automatische Trennung bzgl. Realteil und  Imaginärteil\\
\item \isage{real()}: Realteil
\item \isage{imag()}: Imaginärteil
\begin{sagein}
1/(sqrt(2)+I), real(1/(sqrt(2)+I)) + imag(1/(sqrt(2)+I))*I
\end{sagein}
\begin{sage}
1/(sqrt(2) + I)
1/3*sqrt(2) - 1/3*I
\end{sage}
\begin{sagein}
real(1/(sqrt(2)+I)), imag(1/(sqrt(2)+I))
\end{sagein}
\begin{sage}
(1/3*sqrt(2), -1/3)
\end{sage}
\end{itemize}
\end{frame}

%=======================================
%\section{Ungleichungen}
%=======================================

% \begin{frame}[fragile]{Ungleichungen}
% MuPAD kann mittels des Befehls {\color{blue} \isage{solve}} auch
% Ungleichungen lösen.
% \begin{sagein}
% assume(x,Type::Real): solve(x^2<1,x)
% \end{sagein}
% \begin{sage}
%   (-1, 1)
% \end{sage}
% \begin{sagein}
% domtype(%)
% \end{sagein}
% \begin{sage}
%   Dom::Interval
% \end{sage}
% \begin{sagein}
% >>assume(x>0): solve({exp(x)<=4, exp(x)>=1},x)
% \end{sagein}
% \begin{sage}
%   (0, infinity) intersect (0, 2 ln(2)]               
% \end{sage}
% \end{frame}

% \begin{frame}[fragile]{Intervalle}
% \begin{itemize}
% \item Intervalle in Sage werden durch {\color{blue} \isage{:}} definiert. 
% \item Zu einer Zahl $a$ wird durch {\color{blue} \isage{hull(a)}} ein
%   Intervall bestimmt, in dem $a$ liegt.
% \item Funktionen wie \isage{sin} oder \isage{exp} akzeptieren als Eingaben
%   Intervalle. 
% \end{itemize}
% \end{frame}
% 
% \begin{frame}[fragile]{Beispiele I}
% \begin{sagein}
% a = range(1,8)
% a:=1/3...1; domtype(a) 
% \end{sagein}
% \begin{sage}
%   0.3333333333 ... 1.0
%   DOM_INTERVAL 
% \end{sage}
% \begin{sagein}
% exp(a)+1, sin(a)/a
% \end{sagein}
% \begin{sage}
%   2.395612425 ... 3.718281829, 
%   0.3271946967 ... 2.524412955
% \end{sage}
% \end{frame}
% 
% \begin{frame}[fragile]{Beispiele II}
% \begin{sagein}
% DIGITS:=6: hull(PI) 
% \end{sagein}
% \begin{sage}
%   3.14159 ... 3.14160 
% \end{sage}
% \begin{sagein}
% DIGITS:=10: hull(PI)
% \end{sagein}
% \begin{sage}
%   3.141592653 ... 3.141592654 
% \end{sage}
% \end{frame}

\end{document}
