

<h2>Aufgabe 1</h2>
<p>Schreiben Sie eine Funktion, deren Eingabeparameter zwei Strings sind und die den kleinsten Index berechnet, ab dem der Erste dieser Strings im Zweiten enthalten ist.&nbsp; Kann der String nicht gefunden werden, so soll die Prozedur <span style="color: #008000;">False</span> zur&uuml;ckgeben.</p>

{{{id=75|
def search(s1,s2):
    if s1 in s2:
        return s2.find(s1)
    else:
        return False
///
}}}

{{{id=76|
search('lo','Hallo')
///
3
}}}

{{{id=80|
def suche(s1, s2):
    l = len(s1)
    for i in [0..len(s2)-l]:
        if s1 == s2[i:i+l]:
            return i
    return False
///
}}}

{{{id=82|
suche('de', 'abcdef')
///
3
}}}

<h2>Aufgabe 2*</h2>
<p>Schreiben Sie eine Prozedur, deren Eingabeparameter zwei Strings und ein Index sind und die den ersten String am gegebenen Index in den Zweiten einf&uuml;gt.</p>

{{{id=81|
def einfuegen(str, n, x):
    vor = str[0:n]
    nach = str[n:len(str)]
    return vor + x + nach
///
}}}

{{{id=83|
einfuegen('abcd', 2, '1234')
///
'ab1234cd'
}}}

<h2>Aufgabe 3*</h2>
<p>Schreiben Sie eine Prozedur, die f&uuml;r einen String - z.B. einen  Sage-Ausdruck in String-Form - &uuml;berpr&uuml;ft, ob alle ge&ouml;ffneten Klammern  auch wieder geschlossen werden.</p>

{{{id=85|
def pruefe_klammern(str):
    offen = 0
    for c in str:
        if c=="(":
            offen += 1
        elif c==")":
            offen -= 1
        if offen < 0:
            return False
    return offen
///
}}}

{{{id=86|
pruefe_klammern("limit((abs(sin((2*n+1)*x))/(2*n+1))^(1/n),n=oo)")
///
0
}}}

{{{id=99|
pruefe_klammern(")(")
///
False
}}}

<h2>Aufgabe 4</h2>
<p>F&uuml;gen sie dem ersten <strong>interact</strong>-Beispiel aus der Vorlesung einen <strong>selector</strong> hinzu, womit man neben <strong>sin(x)/x</strong> auch <strong>arctan(x)</strong> ausw&auml;hlen kann.</p>

{{{id=102|
def f(b, typ):
    plot(typ, b[0] , b[1]).show()
///
}}}

{{{id=103|
f( (-10,10), sin(x)/x )
///
<html><font color='black'><img src='cell://sage0.png'></font></html>
}}}

{{{id=93|
@interact
def _(b = range_slider (-20, 20, 1, default=(-19 ,3) , label='Range '), typ = selector ([sin(x)/x,arctan(x)] , label ='Typ')):
    plot(typ, b[0] , b[1]).show()
///
}}}

<h2>Aufgabe 5</h2>
<p>F&uuml;gen sie dem zweiten <strong>interact</strong>-Beispiel (Taylor) aus der Vorlesung eine <strong>checkbox</strong> hinzu, welche Gitterlinien im plot an- und ausstellen kann.</p>

{{{id=94|
var('x')
x0  = 0
f   = sin(x)*e^(-x)
p   = plot(f,-1,5, thickness=2)
dot = point((x0,f(x=x0)),pointsize=80,rgbcolor=(1,0,0))

@interact
def _(order=slider(1,12,1,label='order'),ch = checkbox(label='Gitter (an/aus)')):
    ft = f.taylor(x,x0,order)
    pt = plot(ft,-1, 5, color='green', thickness=2)
    print ('f(x) = %s'% f)
    print ('f^(x;%s) = %s + O(x^%s)'%(x0,ft,order+1))
    show(dot + p + pt, ymin = -.5, ymax = 1, gridlines=ch)
///
}}}

<h2>Aufgabe 6</h2>

<p>Betrachten Sie das Newton-Verfahren zum Berechnen der Nullstellen von $z^3-1$, d.h.<br />\[ &nbsp; z_{n+1}=z_n-\frac{z_n^3-1}{3z_n^2} \]<br />mit einem Startwert $z_0=x+iy$. Schreiben Sie eine Funktion, die zu gegebenem $x,y\in\mathbb{R}$ &uuml;berpr&uuml;ft, gegen welche der drei L&ouml;sungen von $z^3-1=0$ das Newton-Verfahren konvergiert.&nbsp; Sie k&ouml;nnen von Konvergenz ausgehen, wenn $|z_n^3-1|&lt;0.1$ ist und in dem Fall das Argument von $z_n$ als Ergebnis zur&uuml;ckgeben.&nbsp; Sollte nach 20 Schritten keine Konvergenz eintreten, geben Sie 0 zur&uuml;ck.<br /><br />Erstellen Sie dann einen Plot der Funktion analog zur Mandelbrot-Menge in der Vorlesung f&uuml;r $-1\leq x,y \leq 1$ mit plot_points=60.</p>

{{{id=95|
reset()
def newton(x,y):
    z = (x+I*y).n()
    eps = 0.1;
    for i in [1..20]:
        z = z - (z^3-1)/(3*z^2)
        if abs(z^3-1)<eps:
            return arg(z)
    return 0
///
}}}

{{{id=97|
density_plot(newton, (-1,1), (-1,1), plot_points=100,cmap='Spectral')
///
<html><font color='black'><img src='cell://sage0.png'></font></html>
}}}

<p>Newton-Fraktal von Wikipedia:</p>
<p><img src="http://upload.wikimedia.org/wikipedia/en/e/eb/100Jul.png" alt="" width="600" height="450" /></p>

{{{id=1|
import matplotlib.cm
///
}}}

{{{id=104|
matplotlib.cm.datad.keys()
///
['Spectral', 'summer', 'RdBu', 'Set1', 'Set2', 'Set3', 'brg_r', 'Dark2', 'hot', 'PuOr_r', 'afmhot_r', 'terrain_r', 'PuBuGn_r', 'RdPu', 'gist_ncar_r', 'gist_yarg_r', 'Dark2_r', 'YlGnBu', 'RdYlBu', 'hot_r', 'gist_rainbow_r', 'gist_stern', 'gnuplot_r', 'cool_r', 'cool', 'gray', 'copper_r', 'Greens_r', 'GnBu', 'gist_ncar', 'spring_r', 'gist_rainbow', 'RdYlBu_r', 'gist_heat_r', 'OrRd_r', 'bone', 'gist_stern_r', 'RdYlGn', 'Pastel2_r', 'spring', 'terrain', 'YlOrRd_r', 'Set2_r', 'winter_r', 'PuBu', 'RdGy_r', 'spectral', 'flag_r', 'jet_r', 'RdPu_r', 'Purples_r', 'gist_yarg', 'BuGn', 'Paired_r', 'hsv_r', 'bwr', 'YlOrRd', 'Greens', 'PRGn', 'gist_heat', 'spectral_r', 'Paired', 'hsv', 'Oranges_r', 'prism_r', 'Pastel2', 'Pastel1_r', 'Pastel1', 'gray_r', 'PuRd_r', 'Spectral_r', 'gnuplot2_r', 'BuPu', 'YlGnBu_r', 'copper', 'gist_earth_r', 'Set3_r', 'OrRd', 'PuBu_r', 'ocean_r', 'brg', 'gnuplot2', 'jet', 'bone_r', 'gist_earth', 'Oranges', 'RdYlGn_r', 'PiYG', 'YlGn', 'binary_r', 'gist_gray_r', 'Accent', 'BuPu_r', 'gist_gray', 'flag', 'seismic_r', 'RdBu_r', 'BrBG', 'Reds', 'BuGn_r', 'summer_r', 'GnBu_r', 'BrBG_r', 'Reds_r', 'RdGy', 'PuRd', 'Accent_r', 'Blues', 'Greys', 'autumn', 'PRGn_r', 'Greys_r', 'pink', 'binary', 'winter', 'gnuplot', 'pink_r', 'prism', 'YlOrBr', 'rainbow_r', 'rainbow', 'PiYG_r', 'YlGn_r', 'Blues_r', 'YlOrBr_r', 'seismic', 'Purples', 'bwr_r', 'autumn_r', 'ocean', 'Set1_r', 'PuOr', 'PuBuGn', 'afmhot']
}}}

{{{id=105|

///
}}}

{{{id=106|

///
}}}

{{{id=107|

///
}}}